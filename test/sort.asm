extern Write

; In = s.0
; Out = s.1 
def NSort(2,0)
	match @|@, s.0
	branch acc, l0
	bind s.1, nil
	ret
l0: inst Node
	closure s.2
	closure s.3
	closure s.1
	tcall s.4
	ret

; Aku = c.0
; In = c.1
; Out = c.2
; H = s.0
; T = s.1
; PipeIn = s.2
; PipeOut = s.3
def Node(0,3)
	match @|@, c.1
	branch acc, l0
	bind c.2, ![c.0]
	ret
l0: create 2
	rpn-push c.0
	rpn-push s.0
	rpn-leq
	branch acc, l1
	inst Node
	closure c.0
	closure s.2
	closure s.3
	tcall s.4
	push s.0
	push s.1
	push c.2
	push s.3
	push s.2
	rcall Continue
l1: inst Node
	closure s.0
	closure s.2
	closure s.3
	tcall s.4
	push c.0
	push s.1
	push c.2
	push s.3
	push s.2
	rcall Continue

; Aku = s.0
; In = s.1
; Out = s.2
; PipeOut = s.3
; PipeIn = s.4
; H = s.5
; T = s.6
; NewPipe = s.7
def Continue(5,0)
	match @|@, s.1
	branch acc, l0
	bind s.4, nil
	bind s.2, !(s.0|s.3)
	ret
l0: create
	rpn-push s.0
	rpn-push s.5
	rpn-leq
	branch acc, l1
	bind s.4, !(s.0|s.7)
	push s.5
	push s.6
	push s.2
	push s.3
	push s.7
	rcall Continue
l1: bind s.4, !(s.5|s.7)
	push s.0
	push s.6
	push s.2
	push s.3
	push s.7
	rcall Continue
	
def Touch(1,0)
	match @|@, s.0
	branch acc, l0
	ret
l0: rcall Touch

def Main(0,0)
	create 1
	push [101 462 102 367 293 997 788 855 174 880 257 842 892 597 493 466 457 546 750 19 10 558 622 483 247 541 966 688 673 839 300 969 691 234 816 38 934 453 135 421 792 600 930 158 617 361 619 784 669 111 866 492 646 990 0 447 884 214 574 456 122 637 718 441 650 71 476 491 166 349 320 344 115 373 846 716 365 33 429 229 557 107 215 762 695 634 289 653 24 170 410 338 488 861 809 749 253 925 459 952 987 207 655 864 632 475 123 744 52 213 409 7 280 262 937 562 593 647 124 415 740 197 377 316 266 323 211 589 391 563 946 337 630 385 156 694 840 681 572 913 39 672 96 252 60 719 701 342 957 120 273 308 219 979 486 159 828 592 73 734 981 369 851 633 779 350 685 803 381 343 580 921 62 891 835 326 321 615 443 251 287 398 814 709 837 49 735 978 117 887 438 235 147 765 627 736 841 29 729 774 302 904 77 256 449 347 936 906 303 332 769 57 813 329 601 242 854 258 290 517 910 336 199 86 507 114 821 879 594 544 187 232 435 72 439 890 665 226 868 468 58 432 664 284 419 93 974 720 598 896 400 865 92 314 863 3 949 82 393 87 471 14 390 161 271 140 878 116 926 30 943 35 794 895 202 198 394 189 852 576 824 167 105 529 103 924 169 533 635 109 900 806 269 36 240 333 265 168 112 583 536 912 305 275 41 477 499 283 218 623 717 494 366 964 315 420 50 244 364 386 243 354 193 756 982 380 469 249 25 894 150 125 931 248 134 917 764 299 659 412 645 668 423 227 732 985 820 743 180 644 874 461 611 903 706 883 177 118 537 800 212 510 686 907 136 76 63 519 22 795 942 908 911 518 532 899 657 53 40 741 372 989 1 847 239 983 773 793 75 319 933 15 608 944 379 165 566 175 264 130 993 210 206 727 609 472 176 430 194 591 963 216 960 733 790 919 626 427 603 654 181 652 184 953 250 713 857 374 815 411 121 392 662 700 277 935 48 484 970 157 810 436 829 965 131 47 682 975 677 938 288 538 739 702 856 542 129 274 370 674 2 540 452 298 661 648 782 144 539 428 710 552 205 143 660 950 939 141 831 83 478 259 65 498 4 875 138 18 348 897 535 228 666 742 961 521 12 994 624 940 531 5 301 973 999 254 730 787 44 511 596 697 55 817 832 261 565 789 460 760 95 640 467 772 164 582 13 43 224 823 527 512 516 276 584 89 312 371 384 722 721 201 340 281 26 145 84 470 9 620 445 968 689 482 279 956 285 153 515 687 183 690 559 768 389 651 46 11 294 497 551 325 474 304 126 845 139 570 42 79 128 97 886 74 986 882 359 358 378 51 905 798 473 844 786 991 573 360 341 962 368 918 781 804 526 971 127 80 922 967 357 513 455 446 888 236 64 671 523 585 376 916 503 998 901 602 405 500 748 395 331 133 99 496 577 142 313 203 871 151 306 137 698 649 286 638 811 770 920 81 885 23 59 464 680 171 67 636 560 195 862 628 388 929 479 37 612 587 745 440 255 506 520 827 345 549 658 976 704 173 755 715 241 162 382 728 724 246 324 154 712 68 509 703 902 487 110 292 618 311 387 898 621 556 812 590 948 260 534 119 463 843 272 568 28 801 185 524 725 514 339 663 893 362 555 604 995 870 791 296 396 186 356 403 928 797 334 699 383 860 737 278 448 610 230 178 867 759 163 422 263 502 433 108 714 346 941 69 579 501 352 848 505 805 977 192 927 489 830 270 575 780 530 808 915 21 656 996 32 692 191 90 465 564 923 708 595 849 317 954 209 437 914 753 889 196 972 450 149 353 152 401 877 639 480 836 397 98 667 267 992 155 758 631 295 426 307 945 418 113 451 431 31 625 958 91 425 909 220 481 796 833 297 629 678 548 233 607 947 417 310 416 222 984 550 282 822 751 355 458 160 45 778 711 776 217 858 100 873 586 679 980 802 408 204 328 951 504 56 554 771 616 763 807 738 221 485 869 959 684 223 838 705 799 188 561 208 148 231 34 190 675 327 94 642 567 54 490 545 881 61 819 641 414 20 581 547 225 522 318 588 291 693 872 351 850 876 8 834 723 268 783 237 818 761 766 434 407 322 309 335 853 172 767 606 578 726 543 454 757 404 399 6 747 85 78 16 17 406 424 330 528 132 413 27 955 731 643 826 238 859 696 444 104 88 66 375 200 363 553 442 179 599 614 777 613 670 754 785 707 683 825 495 70 182 988 508 676 571 752 106 569 775 605 525 932 245 746 146 402]
	push s.0
	call NSort
	push s.0
	call Touch
	push s.0
	call Write
	ret